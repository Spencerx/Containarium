# Containarium Stack Definitions
# These stacks define pre-configured software environments that can be
# installed in containers during creation.

stacks:
  - id: nodejs
    name: Node.js Development
    description: Node.js LTS with popular package managers
    icon: nodejs
    packages:
      - nodejs
      - npm
    post_install:
      - npm install -g yarn pnpm typescript ts-node

  - id: python
    name: Python Development
    description: Python 3 with pip, virtualenv, and poetry
    icon: python
    packages:
      - python3
      - python3-pip
      - python3-venv
      - python3-dev
    post_install:
      - pip3 install --upgrade pip
      - pip3 install virtualenv poetry pipenv

  - id: golang
    name: Go Development
    description: Go programming language with tools
    icon: golang
    packages:
      - golang-go
    post_install:
      - go install golang.org/x/tools/gopls@latest
      - go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest

  - id: rust
    name: Rust Development
    description: Rust programming language with cargo
    icon: rust
    packages: []
    post_install:
      - curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
      - echo 'source $HOME/.cargo/env' >> ~/.bashrc

  - id: datascience
    name: Data Science
    description: Python with Jupyter, pandas, numpy, and ML libraries
    icon: jupyter
    packages:
      - python3
      - python3-pip
      - python3-venv
      - python3-dev
    post_install:
      - pip3 install --upgrade pip
      - pip3 install jupyter jupyterlab pandas numpy matplotlib scikit-learn

  - id: devops
    name: DevOps Tools
    description: Kubernetes, Terraform, and infrastructure tools
    icon: kubernetes
    packages:
      - apt-transport-https
      - ca-certificates
      - gnupg
    post_install:
      - curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.29/deb/Release.key | gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg
      - echo 'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.29/deb/ /' | tee /etc/apt/sources.list.d/kubernetes.list
      - apt-get update && apt-get install -y kubectl
      - curl -fsSL https://releases.hashicorp.com/terraform/1.7.0/terraform_1.7.0_linux_amd64.zip -o /tmp/terraform.zip && unzip /tmp/terraform.zip -d /usr/local/bin/ && rm /tmp/terraform.zip

  - id: database
    name: Database Clients
    description: PostgreSQL, MySQL, and Redis command-line clients
    icon: database
    packages:
      - postgresql-client
      - mysql-client
      - redis-tools
    post_install: []

  - id: fullstack
    name: Full Stack Web
    description: Node.js, Python, and database clients for web development
    icon: code
    packages:
      - nodejs
      - npm
      - python3
      - python3-pip
      - python3-venv
      - postgresql-client
      - redis-tools
    post_install:
      - npm install -g yarn typescript
      - pip3 install --upgrade pip virtualenv
