# Production Environment Configuration Template
# Copy to prod.tfvars and customize
#
# Usage:
#   cp environments/prod.tfvars.example environments/prod.tfvars
#   vim environments/prod.tfvars  # Update values
#   terraform apply -var-file=environments/prod.tfvars

# GCP Project
project_id = "your-production-project-id"  # UPDATE THIS

# Region/Zone
region = "us-central1"
zone   = "us-central1-a"

# Instance Configuration
instance_name       = "containarium-prod"
machine_type        = "n2-standard-8"   # 8 vCPU, 32GB RAM (50-100 users)
use_spot_instance   = false             # Use regular instances for production
use_persistent_disk = true              # REQUIRED for data persistence

# Disk Sizes (GB)
boot_disk_size = 100
data_disk_size = 500  # Larger disk for production data

# Security - SSH Keys
# Option 1: Inline (not recommended for production)
# admin_ssh_keys = {
#   admin = "ssh-ed25519 AAAAC3... admin@company.com"
# }

# Option 2: Load from GCP Secret Manager (recommended)
# Configure in main.tf:
#   data "google_secret_manager_secret_version" "admin_ssh_key" {
#     secret = "containarium-admin-ssh-key"
#   }

# Allowed SSH Sources (your office/VPN IP ranges)
allowed_ssh_sources = [
  "0.0.0.0/0"  # WARNING: Open to internet! Restrict in production!
  # Recommended: Restrict to your IP ranges
  # "203.0.113.0/24",  # Office network
  # "198.51.100.5/32", # VPN server
]

# Containarium Daemon
enable_containarium_daemon = true
containarium_version       = "latest"
containarium_binary_url    = ""  # Optional: URL to custom binary

# Horizontal Scaling (Multi-Server Setup)
enable_horizontal_scaling = true
jump_server_count         = 3     # 3 servers for HA
enable_load_balancer      = true  # Load balance SSH connections

# Monitoring and Backups
enable_monitoring     = true
enable_disk_snapshots = true

# Labels (for resource organization)
labels = {
  environment = "production"
  managed_by  = "terraform"
  team        = "devops"
  project     = "containarium"
  cost_center = "engineering"
}

# DNS Configuration (optional)
# dns_zone_name   = "containarium-prod"
# dns_zone_domain = "dev.company.com"
